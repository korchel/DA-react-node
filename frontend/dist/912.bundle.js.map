{"version":3,"file":"912.bundle.js","mappings":"4PAAIA,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOH,EAASa,MAAMC,KAAMP,UAChC,EA0CA,QA7BsB,WAClB,IAAIQ,GAAK,SAAYA,GACjBC,GAAK,UAAWC,EAAcD,EAAGC,YAAaC,EAAkBF,EAAGE,gBACnEf,GAAI,UAAiBA,EACrBgB,GAAW,UACXC,GAAK,QAAQL,GAAKM,EAAOD,EAAGE,KAAMC,EAAYH,EAAGG,UACjDC,GAAU,OAAiB,CAC3BC,KAAMzB,EAASA,EAAS,CAAC,EAAGiB,GAAc,CAAEC,gBAAiBA,IAC7DQ,OAAQ,CAAEC,SAAUN,aAAmC,EAASA,EAAKO,UAgBzE,OAAIL,GACQ,SAAK,KAAS,CAAEM,UAAW,cAE/B,UAAM,KAAM,CAAEC,SAAU,EAAC,UAAM,KAAKC,OAAQ,CAAED,SAAU,CAAC3B,EAAE,2BAA6B,KAAK,SAAK,OAAQ,CAAE0B,UAAW,iBAAkBC,SAAUT,aAAmC,EAASA,EAAKW,eAAiB,UAAM,KAAKC,KAAM,CAAEJ,UAAW,uCAAwCC,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU3B,EAAE,4BAA8BkB,aAAmC,EAASA,EAAKW,aAAc,UAAM,MAAO,CAAEF,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU3B,EAAE,4BAA8BkB,aAAmC,EAASA,EAAKa,aAAc,UAAM,MAAO,CAAEJ,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU3B,EAAE,8BAAgCkB,aAAmC,EAASA,EAAKO,WAAY,UAAM,MAAO,CAAEE,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU3B,EAAE,oCAAsCkB,aAAmC,EAASA,EAAKc,oBAAsB,UAAM,MAAO,CAAEN,UAAW,sBAAuBC,SAAU,EAAC,SAAK,MAAO,CAAED,UAAW,mEAAoEC,UAAU,SAAK,MAAO,CAAEM,IAAK,IAAOC,cAAchB,aAAmC,EAASA,EAAKN,IAAKuB,IAAKjB,aAAmC,EAASA,EAAKW,SAAUH,UAAW,kCAAoC,UAAM,MAAO,CAAEA,UAAW,uBAAwBC,SAAU,EAAC,SAAK,KAAc,CAAES,WAAY,WAAYC,MAAOrC,EAAE,YAAasC,QAAS,SAAUC,GAAS,OAXv/C,SAAUA,EAAO3B,GAClC2B,EAAMC,kBACNC,OAAOC,KAAK,IAAOC,iBAAiB/B,GAAK,SAC7C,CAQmhDgC,CAAeL,EAAO3B,EAAK,KAAM,SAAK,KAAc,CAAEwB,WAAY,WAAYC,MAAOrC,EAAE,OAAQsC,QAAS,SAAUC,GAAS,OAPznD,SAAUA,EAAO3B,GAClC2B,EAAMC,kBACNC,OAAOC,KAAK,IAAOG,aAAajC,GAAK,SACzC,CAIqpDkC,CAAeP,EAAO3B,EAAK,cAAkB,UAAM,KAAKmC,OAAQ,CAAEpB,SAAU,EAAC,SAAK,KAAK,CAAEqB,EAAG,OAAQC,EAAG,OAAQ5B,QAASA,EAASM,UAAU,SAAK,KAAiB,CAAEuB,QAAS,UAAWZ,QAd3zD,WACbtB,GAAS,QAAU,CAAEmC,KAAM,WAAYT,MAAM,EAAM9B,GAAIA,IAC3D,EAYi2De,SAAU3B,EAAE,+BAAiC,SAAK,KAAK,CAAEgD,EAAG,SAAUC,EAAG,OAAQ5B,QAASA,EAASM,UAAU,SAAK,KAAiB,CAAEuB,QAAS,SAAUZ,QAjBt+D,WACftB,GAAS,QAAU,CAAEmC,KAAM,aAAcT,MAAM,EAAM9B,GAAIA,IAC7D,EAeghEe,SAAU3B,EAAE,qCAChiE,C","sources":["webpack://frontend/./src/pages/files/FileDetailsPage.tsx"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { Can } from \"@casl/react\";\nimport { useGetFileQuery as getFile } from \"../../store/filesApi\";\nimport { openModal } from \"../../store/modalSlice\";\nimport { Spinner } from \"../../components/ui/icons\";\nimport { Card, ButtonComponent, ActionButton } from \"../../components/ui\";\nimport { routes } from \"../../routes\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { defineAbilityFor } from \"../../casl/ability\";\nvar FileDetailsPage = function () {\n    var id = useParams().id;\n    var _a = useAuth(), currentUser = _a.currentUser, isAuthenticated = _a.isAuthenticated;\n    var t = useTranslation().t;\n    var dispatch = useDispatch();\n    var _b = getFile(id), file = _b.data, isLoading = _b.isLoading;\n    var ability = defineAbilityFor({\n        user: __assign(__assign({}, currentUser), { isAuthenticated: isAuthenticated }),\n        entity: { userName: file === null || file === void 0 ? void 0 : file.author },\n    });\n    var handleDelete = function () {\n        dispatch(openModal({ type: \"deleteFile\", open: true, id: id }));\n    };\n    var handleEdit = function () {\n        dispatch(openModal({ type: \"editFile\", open: true, id: id }));\n    };\n    var handleDownload = function (event, id) {\n        event.stopPropagation();\n        window.open(routes.fileDownloadPath(id), '_blank');\n    };\n    var handleOverview = function (event, id) {\n        event.stopPropagation();\n        window.open(routes.viewFilePath(id), '_blank');\n    };\n    if (isLoading) {\n        return (_jsx(Spinner, { className: \"h-[100%]\" }));\n    }\n    return (_jsxs(Card, { children: [_jsxs(Card.Header, { children: [t('files.detailsPage.title') + ' ', _jsx(\"span\", { className: \"text-highlight\", children: file === null || file === void 0 ? void 0 : file.filename })] }), _jsxs(Card.Body, { className: \"flex justify-between gap-3 flex-wrap\", children: [_jsxs(\"div\", { children: [_jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('files.detailsPage.name') }), file === null || file === void 0 ? void 0 : file.filename] }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('files.detailsPage.type') }), file === null || file === void 0 ? void 0 : file.filetype] }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('files.detailsPage.author') }), file === null || file === void 0 ? void 0 : file.author] }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('files.detailsPage.creationDate') }), file === null || file === void 0 ? void 0 : file.creationDate] })] }), _jsxs(\"div\", { className: \"flex flex-col gap-4\", children: [_jsx(\"div\", { className: \"w-24 h-24 border-white dark:border-whiteDark border-2 rounded-sm\", children: _jsx(\"img\", { src: routes.thumbnailPath(file === null || file === void 0 ? void 0 : file.id), alt: file === null || file === void 0 ? void 0 : file.filename, className: \"w-full h-full object-cover\" }) }), _jsxs(\"div\", { className: \"flex justify-between\", children: [_jsx(ActionButton, { actionType: \"download\", title: t('download'), onClick: function (event) { return handleDownload(event, id); } }), _jsx(ActionButton, { actionType: \"overview\", title: t('see'), onClick: function (event) { return handleOverview(event, id); } })] })] })] }), _jsxs(Card.Footer, { children: [_jsx(Can, { I: \"edit\", a: \"file\", ability: ability, children: _jsx(ButtonComponent, { variant: \"primary\", onClick: handleEdit, children: t('files.detailsPage.edit') }) }), _jsx(Can, { I: \"delete\", a: \"file\", ability: ability, children: _jsx(ButtonComponent, { variant: \"danger\", onClick: handleDelete, children: t('files.detailsPage.delete') }) })] })] }));\n};\nexport default FileDetailsPage;\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","id","_a","currentUser","isAuthenticated","dispatch","_b","file","data","isLoading","ability","user","entity","userName","author","className","children","Header","filename","Body","filetype","creationDate","src","thumbnailPath","alt","actionType","title","onClick","event","stopPropagation","window","open","fileDownloadPath","handleDownload","viewFilePath","handleOverview","Footer","I","a","variant","type"],"sourceRoot":""}