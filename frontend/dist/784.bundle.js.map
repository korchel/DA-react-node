{"version":3,"file":"784.bundle.js","mappings":"iPAAIA,EAAsC,WAStC,OARAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOH,EAASa,MAAMC,KAAMP,UAChC,EAiCA,QArB0B,WACtB,IAAIQ,GAAK,SAAYA,GACjBC,GAAK,UAAWC,EAAcD,EAAGC,YAAaC,EAAkBF,EAAGE,gBACnEf,GAAI,UAAiBA,EACrBgB,GAAW,UACXC,GAAK,QAAOL,GAAKM,EAAMD,EAAGE,KAAMC,EAAYH,EAAGG,UAC/CC,GAAU,OAAiB,CAC3BC,KAAMzB,EAASA,EAAS,CAAC,EAAGiB,GAAc,CAAEC,gBAAiBA,IAC7DQ,OAAQ,CAAEC,SAAUN,aAAiC,EAASA,EAAIO,OAAOC,UAQ7E,OAAIN,GACQ,SAAK,KAAS,CAAEO,UAAW,cAE/B,UAAM,KAAM,CAAEC,SAAU,EAAC,UAAM,KAAKC,OAAQ,CAAED,SAAU,CAAC5B,EAAE,+BAAiC,KAAK,SAAK,OAAQ,CAAE2B,UAAW,iBAAkBC,SAAUV,aAAiC,EAASA,EAAIY,YAAc,UAAM,KAAKC,KAAM,CAAEH,SAAU,EAAC,UAAM,MAAO,CAAEA,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU5B,EAAE,kCAAoCkB,aAAiC,EAASA,EAAIc,WAAY,UAAM,MAAO,CAAEJ,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU5B,EAAE,kCAAoCkB,aAAiC,EAASA,EAAIO,OAAOQ,aAAc,UAAM,MAAO,CAAEL,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU5B,EAAE,gCAAkCkB,aAAiC,EAASA,EAAIgB,KAAKA,SAAU,SAAK,MAAO,CAAEP,UAAW,YAAaC,SAAU5B,EAAE,oCAAqC,SAAK,MAAO,CAAE4B,SAAUV,aAAiC,EAASA,EAAIiB,WAAY,UAAM,MAAO,CAAEP,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU5B,EAAE,wCAA0CkB,aAAiC,EAASA,EAAIkB,iBAAkB,UAAM,MAAO,CAAER,SAAU,EAAC,SAAK,OAAQ,CAAED,UAAW,YAAaC,SAAU5B,EAAE,sCAAwCkB,aAAiC,EAASA,EAAImB,kBAAoB,UAAM,KAAKC,OAAQ,CAAEV,SAAU,EAAC,SAAK,KAAK,CAAEW,EAAG,OAAQC,EAAG,WAAYnB,QAASA,EAASO,UAAU,SAAK,KAAiB,CAAEa,QAAS,UAAWC,QANx5C,WACb1B,GAAS,QAAU,CAAEkB,KAAM,eAAgBS,MAAM,EAAM/B,GAAIA,IAC/D,EAI87CgB,SAAU5B,EAAE,mCAAqC,SAAK,KAAK,CAAEuC,EAAG,SAAUC,EAAG,WAAYnB,QAASA,EAASO,UAAU,SAAK,KAAiB,CAAEa,QAAS,SAAUC,QAT3kD,WACf1B,GAAS,QAAU,CAAEkB,KAAM,iBAAkBS,MAAM,EAAM/B,GAAIA,IACjE,EAOqnDgB,SAAU5B,EAAE,yCACroD,C","sources":["webpack://frontend/./src/pages/documents/DocumentDetailsPage.tsx"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { useGetDocQuery as getDoc } from \"../../store/docsApi\";\nimport { Card, ButtonComponent } from \"../../components/ui\";\nimport { openModal } from \"../../store/modalSlice\";\nimport { Spinner } from \"../../components/ui/icons\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { defineAbilityFor } from \"../../casl/ability\";\nimport { Can } from \"@casl/react\";\nvar DocumentDetailsPage = function () {\n    var id = useParams().id;\n    var _a = useAuth(), currentUser = _a.currentUser, isAuthenticated = _a.isAuthenticated;\n    var t = useTranslation().t;\n    var dispatch = useDispatch();\n    var _b = getDoc(id), doc = _b.data, isLoading = _b.isLoading;\n    var ability = defineAbilityFor({\n        user: __assign(__assign({}, currentUser), { isAuthenticated: isAuthenticated }),\n        entity: { authorId: doc === null || doc === void 0 ? void 0 : doc.author.idUser },\n    });\n    var handleDelete = function () {\n        dispatch(openModal({ type: \"deleteDocument\", open: true, id: id }));\n    };\n    var handleEdit = function () {\n        dispatch(openModal({ type: \"editDocument\", open: true, id: id }));\n    };\n    if (isLoading) {\n        return (_jsx(Spinner, { className: \"h-[100%]\" }));\n    }\n    return (_jsxs(Card, { children: [_jsxs(Card.Header, { children: [t('documents.detailsPage.title') + ' ', _jsx(\"span\", { className: \"text-highlight\", children: doc === null || doc === void 0 ? void 0 : doc.title })] }), _jsxs(Card.Body, { children: [_jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('documents.detailsPage.number') }), doc === null || doc === void 0 ? void 0 : doc.number] }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('documents.detailsPage.author') }), doc === null || doc === void 0 ? void 0 : doc.author.username] }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('documents.detailsPage.type') }), doc === null || doc === void 0 ? void 0 : doc.type.type] }), _jsx(\"div\", { className: \"font-bold\", children: t('documents.detailsPage.content') }), _jsx(\"div\", { children: doc === null || doc === void 0 ? void 0 : doc.content }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('documents.detailsPage.creationDate') }), doc === null || doc === void 0 ? void 0 : doc.creationDate] }), _jsxs(\"div\", { children: [_jsx(\"span\", { className: \"font-bold\", children: t('documents.detailsPage.updateDate') }), doc === null || doc === void 0 ? void 0 : doc.updateDate] })] }), _jsxs(Card.Footer, { children: [_jsx(Can, { I: \"edit\", a: \"document\", ability: ability, children: _jsx(ButtonComponent, { variant: \"primary\", onClick: handleEdit, children: t('documents.detailsPage.edit') }) }), _jsx(Can, { I: \"delete\", a: \"document\", ability: ability, children: _jsx(ButtonComponent, { variant: \"danger\", onClick: handleDelete, children: t('documents.detailsPage.delete') }) })] })] }));\n};\nexport default DocumentDetailsPage;\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","id","_a","currentUser","isAuthenticated","dispatch","_b","doc","data","isLoading","ability","user","entity","authorId","author","idUser","className","children","Header","title","Body","number","username","type","content","creationDate","updateDate","Footer","I","a","variant","onClick","open"],"sourceRoot":""}